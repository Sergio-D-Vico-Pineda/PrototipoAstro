---
/* import { db } from "../../astro.config.mjs"; */
import ArrowLeft from "./ArrowLeft.astro";

/* const rs = await db.execute({
    sql: "SELECT usuarioId, nombre FROM usuario WHERE email = $mail AND contrase√±aHash = $pass LIMIT 1",
    args: {
        mail: "paciente@mail.com",
        pass: "sergio",
    },
}); */
/* console.log(rs); */
/* { rs.rows.length === 0 ? <div class="text-center">No hay chats disponibles</div> : <div class="text-center"> {rs.rows[0].nombre}</div> }  */
---

<div
    id="chatsContainer"
    class="hidden h-80 bg-zinc-400 rounded-xl w-80 mb-52 mt-8 pt-2"
>
    <h1 class="text-2xl text-center mb-3">Chats</h1>
    <ul id="chatlist" class="flex flex-col gap-1 bg-teal-400 h-3/4 overflow-y-auto">
        <li class="bg-slate-300 px-5 py-2 flex flex-col rounded-lg">
            <p class="text-center text-white">No hay chats disponibles</p>
        </li>
        <!-- <li
            class="bg-slate-300 px-5 py-2 flex items-center justify-around rounded-lg"
        >
            <div class="bg-white rounded-full p-1"></div>
            <p class="text-center text-white flex-grow">Nombre</p>
        </li> -->
    </ul>
</div>

<!-- <template id="chatTemplate"> -->
<div id="chatContainer" class="hidden">
    <div class="flex justify-center items-center gap-2 mb-2">
        <div title="Volver" id="btnBack" class="bg-slate-300 p-[5px] rounded-full w-fit cursor-pointer"><ArrowLeft /></div>
        <h1 class="text-2xl text-center">Chat</h1>
    </div>
    <section
        id="chat"
        class="bg-zinc-500 h-80 w-80 p-3 rounded-2xl overflow-y-auto scroll-smooth
       shadow-black shadow-2xl"
    >
        <ul id="messages" class="flex flex-col gap-1"></ul>
    </section>
    <form action="#" id="formMessage" class="flex flex-col gap-2 items-center">
        <input
            type="text"
            name="message"
            placeholder="Escribe tu mensaje"
            id="message"
            autocomplete="off"
            class="input w-full max-w-xs bg-slate-400 rounded-xl py-2 px-4 placeholder-black/60 disabled:opacity-75 disabled:bg-slate-300"
        />
        <button
            type="submit"
            id="btnSend"
            class="btn bg-purple-500 rounded-lg py-1 px-2 disabled:bg-purple-900"
            >Enviar</button
        >
    </form>
</div>
<!-- </template> -->

<div id="chatContainerMedico" class="hidden">
    <h1 class="text-2xl text-center mb-3">Chat MEDICOS</h1>
    <section
        id="chatMedico"
        class="bg-zinc-500 h-80 w-80 p-3 rounded-2xl overflow-y-auto scroll-smooth
       shadow-black shadow-2xl"
    >
        <ul id="messagesMedico" class="flex flex-col gap-1"></ul>
    </section>
    <form
        action="#"
        id="formMessageMedico"
        class="flex flex-col gap-2 items-center"
    >
        <input
            type="text"
            name="message"
            placeholder="Escribe tu mensaje"
            id="messageMedico"
            autocomplete="off"
            class="input w-full max-w-xs bg-slate-400 rounded-xl py-2 px-4 placeholder-black/60 disabled:opacity-75 disabled:bg-slate-300"
        />
        <button
            type="submit"
            id="btnSendMedico"
            class="btn bg-purple-500 rounded-lg py-1 px-2 disabled:bg-purple-900"
            >Enviar</button
        >
    </form>
</div>

